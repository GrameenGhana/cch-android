<!DOCTYPE html>
<html>
<head>
  
  
  <title>jQuery Mobile test page</title>
  <meta charset=utf-8 />
  <meta name="viewport" content="width=device-width, initial-scale=1">
   <link href="../../css/cchbasics.css" rel="stylesheet">
   <link href="../../css/font-awesome.min.css" rel="stylesheet">
   <link href="../../css/cch.css" rel="stylesheet">
   <link rel="stylesheet" href="../../webfont/css/bootstrapx.css">
  	<script text = "text/javascript">


		
		function oralquinineDosage(weight,trimester) {
							if(weight>60){
								weight =60;
							}
							var base; 

							switch(trimester){
								case 1:
									base = 10;
								break; 
																
								case 2: 
									base=4; 
								break; 
								
								case 3: 
									base=4; 
								break;
								
								default:
									base=4;								
								break;
							}
							
					return base*weight; 
		}
		
		function artesunateDosage(weight,trimester)
		{
							switch(trimester){
								case 1:
									base = 0;
								break; 
																
								default: 
									base =4; 
								break 
							}
			return base * weight; 
		
		}
		
		function amodiaquineDosage(weight,trimester){
							switch(trimester){
								case 1:
									base = 0;
								break; 
																
								default: 
									base=10; 
								break 
							}
			return base * weight;
		}
		
		function calc(){
			var trimester=$("#trimester-input").val();
			var weight=$("#weight-input").val();
			document.getElementById("showdosage").innerHTML="";	
			switch(trimester){
			
				case 1:
					document.getElementById("showtrimester").innerHTML="<b>First Trimester<b><br/><br/>";
				break;
				
				case 2:
					document.getElementById("showtrimester").innerHTML="<b>Second Trimester<b><br/><br/>";
				break; 
				
				case 3:
					document.getElementById("showtrimester").innerHTML="<b>Third Trimester<b><br/><br/>";
				break;
				
				default:
					document.getElementById("showtrimester").innerHTML="<b>Invalid Selection. Please select a number between 1 and 3</b>";
				break;
			}
			
			if(trimester>3)
				return;
				
			if(trimester>1){
				document.getElementById("showdosage").innerHTML+="<b>Oral Quinine:</b> 600 mg every 8 hours for 7 days";	
				document.getElementById("showdosage").innerHTML+="<br/><span class='redme heavy'>OR</span>";
				document.getElementById("showdosage").innerHTML+="<br/><b>Artesunate+Amodiaquine:</b>"+artesunateDosage(weight,trimester)+"mg aretesunate "+amodiaquineDosage(weight,trimester)+"mg amodiaquine per day for 3 days";
				document.getElementById("showdosage").innerHTML+="<br/><span class='redme heavy'>OR</span>";
				document.getElementById("showdosage").innerHTML+="<br/><b>Artesunate+Amodiaquine:</b>"+artesunateDosage(weight,trimester)/2+"mg aretesunate "+amodiaquineDosage(weight,trimester)/2+"mg amodiaquine twice a day for 3 days";
				document.getElementById("showdosage").innerHTML+="<br/><span class='redme heavy'>OR</span>";
				document.getElementById("showdosage").innerHTML+="<br/><b>Artemether Lumefantrine: </b> Artimether 20 mg, Lumefantrine: 120mg lumefantrine with fatty meal";
				document.getElementById("showdosage").innerHTML+="<br/>Day 1: 4 tablets stat + 4 tablets in 8 hours.<br/>Day 2: 4 tablets twice daily <br/>Day 3: 4 tablets twice daily";
			}
			else{
				document.getElementById("showdosage").innerHTML+="<b>Oral Quinine:</b> 600 mg every 8 hours for 7 days";	
				document.getElementById("showdosage").innerHTML+="<br/><span class='redme heavy'>OR</span>";
				document.getElementById("showdosage").innerHTML+="<br><b>Oral Quinine:</b>"+oralquinineDosage(weight,trimester)+"mg of quinine plus 300 mg of Clindamycin three times daily for 3 days ";
			}
		}

			$(document).ready(function() {
						console.log( "ready!" );
			});
				$('button').click(function(){
						calc();
								
				});
		</script>
</head>
  
  
<body class ="greenback">
    
 <div class="content">

  <div data-role="header">
    <h1>Dosage Calculator</h1>
  </div><!-- /header -->
	<p class="lead">Use this calculator to determine what medication to give a woman for uncomplicated malaria at each stage of her pregnancy.</div>

    
	<label for="weight-input">Client's weight in kg:</label> <input type="number" id="weight-input"><br /><br />
	<label for="trimester-input">Client's est. trimester:</label>
	<input type="number" id="trimester-input">
	<button type="submit" id="calculate">Calculate</button>
	<a href="dosagecalculator.html" class="heavy greenme" rel="external">Reset</a>
	<br>
	<div id="showtrimester"></div>
	<div id="showdosage"></div>

				<script src="../../js/jquery.min.js"></script>
				<script src="../../js/jquery.widget.min.js"></script>
				<script src="../../js/metro.min.js"></script>
				<script src="../../js/cch.js"></script>
	<script text="text/javascript">
			$(document).ready(function() {
						console.log( "ready!" );
			});
				$('button').click(function(){
						$("#showtrimester").show();
						$("#showdosage").hide();
						calc();
						$("#showdosage").show(2000);
								
				});
		</script>

</div><!-- /page -->

</body>
</html>